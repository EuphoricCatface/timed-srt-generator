[개요]

이 문서는 Windows 환경에서 본 프로그램을 사용하기 위한 설치 및 사용 방법을 안내해 드리는 README 파일입니다.

[설치 방법]

1. Python 설치
   - 먼저 https://www.python.org/downloads/ 에 접속해주세요.
   - pre-release를 제외하고, 가장 최신 버전이 아닌 한 단계 낮은 버전을 다운로드하시기 바랍니다.
     - 2025년 초 기준으로 예를 들면, 3.13이 최신 버전이므로, 3.12 버전을 선택해 주세요.
   - 설치 과정에서 첫 화면에 보이는 ‘Add Python to PATH’(또는 비슷한 문구) 옵션이 있으면 반드시 체크해 주세요.

2. 실행 환경 조성
   - 이 작업은 약 2.5GB 정도의 용량을 사용하므로, 충분한 디스크 공간과 인터넷 연결이 필요합니다.
     그리고, 설치에 시간이 걸리는 편이니 여유를 갖고 진행해 주세요.
   - 본 프로그램을 압축 풀어 놓은, 그 폴더 안에서 작업을 진행하세요.
   - 압축을 푼 폴더 내에서 마우스 오른쪽 버튼을 클릭하고, ‘터미널에서 열기’를 선택해 주세요.
     - Windows 11 등에서는 ‘Windows 터미널에서 열기’, ‘PowerShell에서 열기’ 등으로 표시될 수도 있습니다.
   - 터미널이 열리면 아래의 세 명령어를 순서대로 입력해 주세요.
     ```
     python -m venv venv
     venv\Scripts\activate
     pip install PySide6 pyannote.audio
     ```
   - 두 번째 `venv\Scripts\activate` 명령어를 입력했을 때,
     명령 프롬프트 (또는 PowerShell) 앞부분에 `(venv)`라는 문구가 생기면 가상 환경이 정상적으로 활성화된 것입니다.

3. HuggingFace 세팅
   - 분석 모델을 내려받고 사용하기 위해서는 HuggingFace.co 계정이 필요합니다.
   - 아직 가입하지 않으셨다면, https://huggingface.co/ 로 이동하여 회원가입을 진행해 주세요.
   - 가입을 마치셨다면, 토큰 발급 페이지(https://huggingface.co/settings/tokens)로 접속해 주세요.
   - 우측 상단 [Create new token]버튼을 누르고,
     Access Token(토큰)을 Read로 선택해서 하나 새로 발급받아, 텍스트 파일로 저장하시면 됩니다.
     - 이 토큰은 라이센스 키처럼 사용하는 것이며, 혹시 잃어버려도 얼마든지 재발급받을 수 있으니 너무 걱정하지 않으셔도 돼요.
     - 단, 개인정보 보호를 위해 다른 사람에게는 공유하지 않는 것이 좋아요.
   - 프로젝트에 필요한 사용 동의 2개를 해 주셔야 합니다.
     - https://huggingface.co/pyannote/segmentation-3.0
     - https://huggingface.co/pyannote/speaker-diarization-3.1
   - 각 페이지에 접속하면, “사용자 정보 입력”과 같은 안내를 확인하실 수 있습니다.
     - 오픈소스 프로젝트라 그런지, 통계를 내기 위한 거라고 정보를 정직하게 요청하는 모습이네요 :)
     - 내 정보를 빼가지 않는 대신으로 작성한다고 생각하셔도 되고, 아니면 대충 아무렇게나 입력해 넣으셔도 무방합니다.

[사용 방법]

1. 프로그램 실행
   - 모든 설치가 끝났다면, 압축을 푼 폴더 내의 `main_window.bat` 파일을 더블클릭해 주세요.
   - 자주 사용하실 예정이라면, 바탕화면 등에 바로가기를 만들어 두시면 편하답니다.

2. 토큰 입력 (첫 실행시에만)
   - 첫 번째 줄은 HuggingFace에서 발급받은 토큰을 입력하는 칸입니다.
   - 프로그램을 처음 실행할 때에는, 앞서 발급받은 토큰을 그대로 복사해서 붙여넣기하시면 됩니다.
   - 한 번 분석이 실행 된 이후로는, 필요한 모델을 모두 다운받은 상태이기 때문에 이 칸을 비워 두셔도 됩니다.

3. 분석 파일 지정
   - 두 번째 줄의 [Browse...] 버튼을 눌러서 분석하고자 하는 동영상 파일을 선택해 주세요.
   - 동영상 파일을 선택하시면, 세 번째 줄의 srt 파일의 경로도 자동으로 채워집니다.
   - srt 파일의 이름을 바꾸거나 위치를 옮기고 싶으시면, 경로를 직접 수정하시거나
     세 번째 줄의 [Browse...] 버튼을 눌러서 지정하셔도 됩니다.

4. 실행(분석) 시작
   - ‘Start’를 누르면 작업이 시작됩니다.
   - 분석에는 시간이 좀 걸리지만, 대개 영상 전체 길이보다는 빨리 끝납니다.
   - 종료 버튼을 누르면 작업을 강제로 중단할지 묻는 메뉴가 나타납니다.

[고급 사용자를 위한 팁]

1. CUDA 설치
   - NVIDIA 그래픽 카드를 사용하신다면, CUDA를 설치하시면 음성 인식 처리 속도가 수십 배 정도 빨라질 수 있습니다.
   - 설치 방법은 NVIDIA 홈페이지나 CUDA 공식 문서를 참조해 주세요.

[프로그램 배포(공유)]

- 주 스크립트: `main_window.py`, `worker.py`
- 저작권법 준수를 위한 필수 포함 파일: `LICENSE`
- 사용자 편의를 위한 구성 요소: `ffmpeg.exe`, `main_window.bat`, `README.md`, `README_windows_KR.txt`

프로그램의 정상 작동 및 사용 편의를 위해서, 위 파일들을 모두 포함한 형태로 배포하는 것을 권장합니다.
업데이트는 자유롭게 하셔도 되지만, 그 외의 수정은 가하지 않는 편이 좋습니다.

`ffmpeg.exe` 파일을 제외한 나머지 요소들의 최신 버전은 아래 GitHub 저장소에서 찾으실 수 있습니다.
- https://github.com/euphoriccatface/timed-srt-generator

기능 개선과 같은 수정을 가하고 싶다면, 수정된 버전을 임의로 배포하기보다는,
가능한 위 저장소에 pull request를 넣거나, 혹은 별도의 fork를 생성해 주시기 바랍니다.
